/**
 * @author Faris Zenunovic
 * @description Custom Bootstrap styles - Personalized for WordPress & SEO Portfolio
 */

// ============================================
// ACCORDION CUSTOMIZATION
// ============================================
div.accordion {
    div.accordion-item {
        border: none;
        overflow: hidden;
        background-color: var(--theme-boards-background);
        color: var(--theme-texts-light-1);
        margin-bottom: 12px; // Added spacing between items
        border-radius: 12px; // Softer corners
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); // Subtle depth
        transition: all 0.3s ease; // Smooth transitions
        
        &:hover {
            transform: translateY(-2px); // Lift effect
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }
    }

    button.accordion-button {
        background-color: var(--theme-dark);
        color: var(--theme-texts-light-2);
        font-family: $font-family-base!important;
        font-weight: 600; // Bolder text
        padding: 18px 24px; // More breathing room
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); // Smooth animation

        &:hover {
            background-color: var(--theme-primary-emphasis);
            color: var(--theme-texts-inv);
            opacity: 1;
            padding-left: 28px; // Slide effect on hover
        }

        div, span {
            user-select: none;
            pointer-events: none;
        }

        &:after {
            filter: invert(var(--theme-invert-filter));
            transition: transform 0.3s ease; // Rotate animation
        }
    }

    button.accordion-button:not(.collapsed) {
        background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-emphasis) 100%); // Gradient
        color: var(--theme-texts-inv);
        outline: none;
        box-shadow: 0 4px 16px rgba(13, 110, 253, 0.25); // Glow effect
        opacity: 1;
        pointer-events: none;

        i {
            color: var(--theme-secondary-emphasis);
            animation: pulse 1.5s infinite; // Icon animation
        }

        &:after {
            filter: invert(calc(1 - var(--theme-invert-filter)));
            transform: rotate(180deg); // Full rotation
        }
    }

    div.accordion-body {
        padding: 28px;
        background: linear-gradient(to bottom, transparent, var(--theme-boards-background-accent)); // Subtle gradient
        @include media-breakpoint-down(lg) {
            padding: 20px;
        }
    }
}

// ============================================
// ALERT CUSTOMIZATION
// ============================================
div.alert {
    border-radius: 12px;
    padding: 16px 20px;
    border-left: 4px solid transparent; // Accent border
    
    &-danger {
        background-color: var(--theme-danger);
        border-left-color: #dc3545;
        color: var(--theme-texts-inv);
        box-shadow: 0 2px 8px rgba(220, 53, 69, 0.2);
    }
    
    &-success {
        background-color: #28a745;
        border-left-color: #1e7e34;
        color: white;
        box-shadow: 0 2px 8px rgba(40, 167, 69, 0.2);
    }
    
    &-info {
        background-color: #17a2b8;
        border-left-color: #117a8b;
        color: white;
        box-shadow: 0 2px 8px rgba(23, 162, 184, 0.2);
    }
}

// ============================================
// BUTTON CUSTOMIZATION
// ============================================
button.btn {
    border-radius: 10px; // Rounder corners
    font-weight: 600; // Bolder text
    padding: 12px 28px; // Better proportions
    letter-spacing: 0.3px; // Improved readability
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;

    // Ripple effect
    &:before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    &:active:before {
        width: 300px;
        height: 300px;
    }

    &:focus {
        box-shadow: none!important;
        outline: none!important;
        transition: none;
    }

    &-primary, &-secondary {
        border: 0;
    }

    &-primary {
        background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%)!important; // Gradient
        color: white!important;
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);

        &:hover {
            background: linear-gradient(135deg, #0a58ca 0%, #084298 100%)!important;
            transform: translateY(-2px); // Lift effect
            box-shadow: 0 6px 20px rgba(13, 110, 253, 0.4);
        }
        
        &:active {
            transform: translateY(0);
        }
    }

    &-secondary {
        background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%)!important;
        color: white!important;
        opacity: 1;

        &:hover {
            opacity: 1!important;
            background: linear-gradient(135deg, #5a6268 0%, #4e555b 100%)!important;
            transform: translateY(-2px);
        }
    }

    &-contrast {
        background-color: var(--theme-texts-4)!important;
        color: var(--theme-texts-inv)!important;
        opacity: 1;

        &:hover {
            opacity: 1!important;
            background-color: var(--theme-texts-8)!important;
            transform: scale(1.05); // Scale effect
        }
    }

    &-link-default {
        background-color: transparent!important;
        color: var(--theme-texts)!important;
        border: 0!important;
        padding: 8px 16px;
        
        &:hover {
            color: var(--theme-primary)!important;
            background-color: rgba(13, 110, 253, 0.1)!important;
        }
    }

    &-link-default-inv {
        background-color: transparent!important;
        color: var(--theme-texts-inv)!important;
        border: 0!important;
        
        &:hover {
            color: var(--theme-texts-inv-10)!important;
            background-color: rgba(255, 255, 255, 0.1)!important;
        }
    }

    &-disabled {
        user-select: none;
        pointer-events: none;
        opacity: 0.5;
        filter: grayscale(1);
    }

    &-selected {
        user-select: none;
        pointer-events: none;
        background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-emphasis) 100%)!important;
        color: white!important;
        box-shadow: 0 4px 16px rgba(13, 110, 253, 0.3);
        
        &:hover, &:focus, &:active {
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-emphasis) 100%)!important;
            color: white!important;
        }
    }
}

// ============================================
// CARD CUSTOMIZATION
// ============================================
div.card {
    background-color: var(--theme-card-background);
    color: var(--theme-texts);
    border: 1px solid var(--theme-standard-borders-2); // Subtle border
    border-radius: 16px; // More rounded
    padding: 0;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08); // Depth
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden; // Clean corners

    &:hover {
        transform: translateY(-4px); // Lift on hover
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        border-color: var(--theme-primary-2);
    }

    &-header, &-footer {
        background-color: transparent;
        padding: 20px 24px;
    }

    &-header {
        border-bottom: 1px solid var(--theme-card-background-accent);
        font-weight: 600;
        font-size: 1.1rem;
    }

    &-footer {
        border-top: 1px solid var(--theme-card-background-accent);
        background: linear-gradient(to top, var(--theme-card-background-accent), transparent);
    }
    
    &-body {
        padding: 24px;
    }
}

// ============================================
// DROPDOWN CUSTOMIZATION
// ============================================
div.dropdown {
    width: 100%;

    button.dropdown-toggle {
        outline: none;
        border: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        color: var(--theme-texts);
        border-radius: 10px;
        padding: 12px 16px;
        transition: all 0.3s ease;

        &:hover {
            background-color: var(--theme-boards-background);
        }

        &:after {
            content: none!important;
        }
    }

    div.dropdown-menu {
        padding: 8px;
        margin-left: 10px;
        min-width: 220px;
        overflow: hidden;
        border-radius: 16px; // Rounder
        border: 2px solid var(--theme-standard-borders);
        background-color: var(--theme-pop-ups-background);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15); // Better shadow
        animation: dropdownFadeIn 0.2s ease;
    }

    a.dropdown-item {
        color: var(--theme-texts-2);
        height: 48px;
        display: flex;
        align-items: center;
        font-size: 0.95rem;
        font-weight: 500;
        padding: 12px 16px;
        border-radius: 8px;
        margin-bottom: 4px;
        transition: all 0.2s ease;

        &:not(:last-child) {
            border-bottom: none; // Removed borders
        }

        &:hover, &:focus {
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-emphasis) 100%);
            color: white;
            transform: translateX(4px); // Slide effect
            
            i.fa-icon {
                opacity: 1;
            }
        }
    }
}

// ============================================
// MODAL CUSTOMIZATION
// ============================================
div.modal {
    z-index: $z-index-modal;
    background-color: rgba(black, 0.85); // Darker overlay
    backdrop-filter: blur(4px); // Blur effect

    &-content {
        background-color: var(--theme-card-background);
        color: var(--theme-texts);
        border-radius: 20px; // More rounded
        border: 1px solid var(--theme-standard-borders-2);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); // Dramatic shadow
        animation: modalSlideUp 0.3s ease;
    }

    &-header {
        border-bottom: 1px solid var(--theme-standard-borders);
        justify-content: space-between;
        padding: 24px 28px;
        background: linear-gradient(to bottom, var(--theme-card-background-accent), transparent);
        
        @include media-breakpoint-down(lg) {
            padding: 16px 20px;
        }
    }

    &-footer {
        display: flex;
        flex-direction: column;
        justify-content: start;
        align-items: start;
        color: var(--theme-texts-5);
        border-top: 1px solid var(--theme-standard-borders);
        padding: 20px 28px 24px;
        
        @include media-breakpoint-down(lg) {
            padding: 12px 20px 16px;
        }
    }
}

// ============================================
// PROGRESS BAR CUSTOMIZATION
// ============================================
div.progress {
    border: 1px solid var(--theme-opacity-border);
    padding: 3px;
    background-color: var(--theme-empty);
    height: 14px;
    border-radius: 10px!important; // Rounded
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

div.progress-bar {
    border-radius: 8px!important; // Inner rounding
    background: linear-gradient(90deg, var(--theme-primary) 0%, var(--theme-primary-emphasis) 100%);
    box-shadow: 0 2px 8px rgba(13, 110, 253, 0.3);
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); // Smooth animation
    position: relative;
    overflow: hidden;
    
    // Animated shine effect
    &:after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: progressShine 2s infinite;
    }
}

// ============================================
// ANIMATIONS
// ============================================
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

@keyframes dropdownFadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes modalSlideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes progressShine {
    0% { left: -100%; }
    100% { left: 100%; }
}
